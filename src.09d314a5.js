parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"KA2S":[function(require,module,exports) {
var t=function(t){"use strict";var r,e=Object.prototype,n=e.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,r,e,n){var o=r&&r.prototype instanceof v?r:v,i=Object.create(o.prototype),a=new k(n||[]);return i._invoke=function(t,r,e){var n=f;return function(o,i){if(n===l)throw new Error("Generator is already running");if(n===p){if("throw"===o)throw i;return N()}for(e.method=o,e.arg=i;;){var a=e.delegate;if(a){var c=_(a,e);if(c){if(c===y)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(n===f)throw n=p,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);n=l;var u=h(t,r,e);if("normal"===u.type){if(n=e.done?p:s,u.arg===y)continue;return{value:u.arg,done:e.done}}"throw"===u.type&&(n=p,e.method="throw",e.arg=u.arg)}}}(t,e,a),i}function h(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(n){return{type:"throw",arg:n}}}t.wrap=u;var f="suspendedStart",s="suspendedYield",l="executing",p="completed",y={};function v(){}function d(){}function g(){}var m={};m[i]=function(){return this};var w=Object.getPrototypeOf,L=w&&w(w(G([])));L&&L!==e&&n.call(L,i)&&(m=L);var x=g.prototype=v.prototype=Object.create(m);function E(t){["next","throw","return"].forEach(function(r){t[r]=function(t){return this._invoke(r,t)}})}function b(t){var r;this._invoke=function(e,o){function i(){return new Promise(function(r,i){!function r(e,o,i,a){var c=h(t[e],t,o);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?Promise.resolve(f.__await).then(function(t){r("next",t,i,a)},function(t){r("throw",t,i,a)}):Promise.resolve(f).then(function(t){u.value=t,i(u)},function(t){return r("throw",t,i,a)})}a(c.arg)}(e,o,r,i)})}return r=r?r.then(i,i):i()}}function _(t,e){var n=t.iterator[e.method];if(n===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=r,_(t,e),"throw"===e.method))return y;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var o=h(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,y;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=r),e.delegate=null,y):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,y)}function j(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function O(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function G(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function e(){for(;++o<t.length;)if(n.call(t,o))return e.value=t[o],e.done=!1,e;return e.value=r,e.done=!0,e};return a.next=a}}return{next:N}}function N(){return{value:r,done:!0}}return d.prototype=x.constructor=g,g.constructor=d,g[c]=d.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===d||"GeneratorFunction"===(r.displayName||r.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,c in t||(t[c]="GeneratorFunction")),t.prototype=Object.create(x),t},t.awrap=function(t){return{__await:t}},E(b.prototype),b.prototype[a]=function(){return this},t.AsyncIterator=b,t.async=function(r,e,n,o){var i=new b(u(r,e,n,o));return t.isGeneratorFunction(e)?i:i.next().then(function(t){return t.done?t.value:i.next()})},E(x),x[c]="Generator",x[i]=function(){return this},x.toString=function(){return"[object Generator]"},t.keys=function(t){var r=[];for(var e in t)r.push(e);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=G,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=r)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function o(n,o){return c.type="throw",c.arg=t,e.next=n,o&&(e.method="next",e.arg=r),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),h=n.call(a,"finallyLoc");if(u&&h){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;e>=0;--e){var o=this.tryEntries[e];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=r&&r<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=r,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),y},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),O(e),y}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc===t){var n=e.completion;if("throw"===n.type){var o=n.arg;O(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:G(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=r),y}},t}("object"==typeof module?module.exports:{});try{regeneratorRuntime=t}catch(r){Function("r","regeneratorRuntime = r")(t)}
},{}],"z7jk":[function(require,module,exports) {
"use strict";function e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function n(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function t(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}var r=this&&this.__awaiter||function(e,n,t,r){return new(t||(t=Promise))(function(o,u){function i(e){try{c(r.next(e))}catch(n){u(n)}}function a(e){try{c(r.throw(e))}catch(n){u(n)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(i,a)}c((r=r.apply(e,n||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0});var o=function(){function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"keyval",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"keyval";e(this,n),this.storeName=r,this.db=new Promise(function(e,n){var o=indexedDB.open(t,1);o.onerror=function(){return n(o.error)},o.onsuccess=function(){return e(o.result)},o.onupgradeneeded=function(){o.result.createObjectStore(r)}})}return t(n,[{key:"get",value:function(e){var n;return this.withIDBStore("readonly",function(t){n=t.get(e)}).then(function(){return n.result})}},{key:"set",value:function(e,n){return this.withIDBStore("readwrite",function(t){t.put(n,e)})}},{key:"withIDBStore",value:function(e,n){var t=this;return this.db.then(function(r){return new Promise(function(o,u){var i=r.transaction(t.storeName,e);i.oncomplete=function(){return o()},i.onabort=i.onerror=function(){return u(i.error)},n(i.objectStore(t.storeName))})})}}],[{key:"setup",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"keyval",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["keyval"];return r(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(t,r){var o=indexedDB.open(e,1);o.onerror=function(){return r(o.error)},o.onsuccess=function(){return t(o.result)},o.onupgradeneeded=function(){var e=!0,t=!1,r=void 0;try{for(var u,i=n[Symbol.iterator]();!(e=(u=i.next()).done);e=!0){var a=u.value;o.result.createObjectStore(a)}}catch(c){t=!0,r=c}finally{try{e||null==i.return||i.return()}finally{if(t)throw r}}}}));case 1:case"end":return t.stop()}},t)}))}}]),n}();exports.Store=o;
},{}],"aKUV":[function(require,module,exports) {
"use strict";function e(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function r(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function n(e,n,t){return n&&r(e.prototype,n),t&&r(e,t),e}Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function r(n,t){e(this,r),this.parent=n,this.children=new Array(26),this.isWord=!1,null!==n&&(n.children[t.charCodeAt(0)-65]=this)}return n(r,null,[{key:"create",value:function(e){var n=new r(null,"");for(var t in e){for(var i=n,o=0;o<t.length;o++){var a=t[o],l=a.charCodeAt(0),c=i.children[l-65];void 0===c&&(c=new r(i,a)),i=c}i.isWord=e[t].dict||!0}return n}}]),r}();exports.Trie=t;
},{}],"qafh":[function(require,module,exports) {

"use strict";function e(e,r){if(!r[e])return"";var t=r[e].defn;if(!t)return"";var n=/[{<](.*?)?=.*?[>}]/g.exec(t);if(n){var a=r[n[1].toUpperCase()];t=a&&a.defn?"".concat(n[1]," (").concat(a.defn,")"):n[1]}return t.replace(/\{(.*?)=.*?\}/g,"$1").replace(/<(.*?)=.*?>/g,"$1").replace(/\s*?\[.*?\]\s*?/g,"")}function r(e,r,t){var n=r[e];return n&&(!n.dict||n.dict.includes(t.charAt(0)))}function t(e){var r=[],t=new Set,n=!0,a=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var s=o.value,u=s.split("").reverse().join("");if(u!==s&&e.includes(u)){var l="".concat([s,u].sort().join(" "));t.has(l)||(t.add(l),r.push("(".concat(s),"".concat(u,")")))}else r.push(s)}}catch(d){a=!0,c=d}finally{try{n||null==i.return||i.return()}finally{if(a)throw c}}return r}Object.defineProperty(exports,"__esModule",{value:!0}),exports.define=e,exports.isValid=r,exports.order=t;
},{}],"Q9FA":[function(require,module,exports) {
"use strict";function r(r,a){return e(r)||n(r,a)||t()}function t(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function n(r,t){if(Symbol.iterator in Object(r)||"[object Arguments]"===Object.prototype.toString.call(r)){var n=[],e=!0,a=!1,i=void 0;try{for(var o,u=r[Symbol.iterator]();!(e=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);e=!0);}catch(l){a=!0,i=l}finally{try{e||null==u.return||u.return()}finally{if(a)throw i}}return n}}function e(r){if(Array.isArray(r))return r}function a(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function i(r,t){for(var n=0;n<t.length;n++){var e=t[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(r,e.key,e)}}function o(r,t,n){return t&&i(r.prototype,t),n&&i(r,n),r}Object.defineProperty(exports,"__esModule",{value:!0});var u=require("./dict"),l=function(){function t(r,n){for(var e in a(this,t),this.dict=n,this.percentiles=r,this.mixed={},n){var i=t.toAnagram(e);this.mixed[i]=this.mixed[i]||[],this.mixed[i].push(e)}}return o(t,[{key:"anagrams",value:function(r,n,e){var a=t.toAnagram(r),i=this.mixed[a],o={words:[]};if(!i)return o;var l=!0,f=!1,s=void 0;try{for(var c,h=i[Symbol.iterator]();!(l=(c=h.next()).done);l=!0){var d=c.value;if(!(e&&d.length<e)&&u.isValid(d,this.dict,n)){o.words.push(d);for(var v=this.dict[d],y=0,g=["n","o","b"];y<g.length;y++){var p=g[y];v[p]&&(o[p]=(o[p]||0)+v[p])}}}}catch(m){f=!0,s=m}finally{try{l||null==h.return||h.return()}finally{if(f)throw s}}return o}},{key:"stats",value:function(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"New",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"NWL",e=this.dict[r],a=this.anagrams(r,n);if(!u.isValid(r,this.dict,n)||!a.words.length)return{grade:" "};var i=void 0===e.freq?-1:this.percentiles.freqs.findIndex(function(r){return r<=e.freq}),o=-1===i?" ":f(i),l=this.percentiles[t][n],c=t.charAt(0).toLowerCase(),h=e[c]||0,d=l.words.findIndex(function(r){return r<=h}),v=s(d),y=a[c]||0,g=l.anagrams.findIndex(function(r){return r<=y}),p=s(g),m=[" ","A","B","C","D"][Math.ceil((v+p)/2)],w=function(r){return Math.round(100*r/l.total*1e3)/1e3},b={grade:m<o?o:m};return i>-1&&(b.freq=i),d>-1&&(b.word={p:d,v:w(e.freq)}),g>-1&&(b.anagram={p:g,v:w(y)}),b}},{key:"history",value:function(n,e,a){var i=this,o=e.charAt(0).toLowerCase(),l=function(r){return r.split("").reverse().join("")},f={},s={},c={},h={},d={},v={},y=n.length,g=!0,p=!1,m=void 0;try{for(var w,b=function(){var n=r(w.value,2),e=n[0],a=n[1],u={};for(var g in e){h[g]=(h[g]||0)+1;var p=t.toAnagram(g);if(u[p]=u[p]||[],u[p].push(g),a.has(g)){v[g]=(v[g]||0)+1;var m=l(g);if(m!==g&&e[m]){var b=[g,m].sort()[0];a.has(m)?g===b&&(d[b]=(d[b]||0)+1):(d[b]=(d[b]||0)+1,s[b]=(s[g]||0)+1/y*i.dict[b][o])}}else f[g]=(f[g]||0)+1/y*i.dict[g][o]}for(var x in u){var A=u[x];if(!(A.length<=1)){var j=A.filter(function(r){return a.has(r)}).length/A.length;if(j){var M=A.reduce(function(r,t){return r+i.dict[t][o]},0)/A.length;c[x]=(c[x]||0)+1/y*M*(1-j)}}}y--},x=n[Symbol.iterator]();!(g=(w=x.next()).done);g=!0)b()}catch(I){p=!0,m=I}finally{try{g||null==x.return||x.return()}finally{if(p)throw m}}var A=Math.log(n.length);for(var j in h){if(f[j]+=A*this.dict[j][o]*Math.pow(1-(v[j]||0)/h[j],2),s[j]){var M=l(j),S=r((v[M]||0)>(v[j]||0)?[j,M]:[M,j],2),q=S[0],k=S[1];s[j]+=A*this.dict[j][o]*2*Math.pow(1-(v[q]||0)/(h[k]||1),2)}var C=t.toAnagram(j);c[C]&&h[j]&&(c[j]+=A*this.dict[j][o]*Math.pow(1-(v[j]||0)/h[j],2))}var O=function(r,t){return Object.entries(r).sort(function(r,t){return t[1]-r[1]}).slice(0,t)};return{words:O(f,100).map(function(r){return{w:r[0],found:v[r[0]]||0,all:h[r[0]]||0}}),anadromes:O(s,50).map(function(t){var n=t[0],e=l(n),a=r((v[e]||0)>(v[n]||0)?[n,e]:[e,n],2),i=a[0],o=a[1];return{n:i,fn:v[i]||0,d:o,fd:v[o]||0,e:d[n]||0}}),anagrams:O(c,50).map(function(r){var t=[],n=!0,e=!1,o=void 0;try{for(var l,f=u.order(i.anagrams(r[0],a).words)[Symbol.iterator]();!(n=(l=f.next()).done);n=!0){var s=l.value,c=s.replace(/[^A-Z]/,"");t.push({raw:s,found:v[c]||0,all:h[c]||0})}}catch(I){e=!0,o=I}finally{try{n||null==f.return||f.return()}finally{if(e)throw o}}return t})}}}],[{key:"toAnagram",value:function(r){return r.split("").sort().join("")}}]),t}();function f(r){return r>=99?" ":r>=20?"A":r>=10?"B":r>=5?"C":"D"}function s(r){return r>=75?0:r>=50?1:r>=25?2:r>=10?3:4}exports.Stats=l;
},{"./dict":"qafh"}],"VlPw":[function(require,module,exports) {
"use strict";var e=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,s)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0});var t=require("../store"),r=require("../trie"),n=require("../stats"),o=new t.Store("db","store"),a={dice:"New",min:3,dict:"NWL",grade:"C",display:"Show"},i=function(e){return fetch(e,{mode:"no-cors"}).then(function(e){return e.json()})};exports.global={SETTINGS:JSON.parse(localStorage.getItem("settings"))||a,STORE:o,LIMIT:500,DICT:void 0,STATS:void 0,HISTORY:void 0,TRIE:void 0,GAMES:void 0,SEED:0,LOADED:{DICT:i("data/dict.json").then(function(e){exports.global.DICT=e}),TRIE:function(){return e(void 0,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!exports.global.TRIE){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,exports.global.LOADED.DICT;case 4:exports.global.TRIE=r.Trie.create(exports.global.DICT);case 5:case"end":return e.stop()}},e)}))},STATS:function(){return e(void 0,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!exports.global.STATS){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Promise.all([exports.global.LOADED.DICT,i("data/stats.json").then(function(e){t=e})]);case 4:exports.global.STATS=new n.Stats(t,exports.global.DICT);case 5:case"end":return e.stop()}},e)}))},HISTORY:o.get("history").then(function(e){exports.global.HISTORY=e||[]}),TRAINING:t.Store.setup("training",["NWL","ENABLE","CSW"])}},window.global=exports.global;
},{"../store":"z7jk","../trie":"aKUV","../stats":"Q9FA"}],"Mkcc":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}Object.defineProperty(exports,"__esModule",{value:!0});var n=function(){function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4;e(this,t),r=61^r^r>>>16,r+=r<<3,r^=r>>>4,r=Math.imul(r,668265261),r^=r>>>15,this.seed=r>>>0}return r(t,[{key:"next",value:function(e,t){e&&(e=Math.floor(e)),t&&(t=Math.floor(t));var r=this.seed+=1831565813;r=Math.imul(r^r>>>15,1|r);var n=(r=((r^=r+Math.imul(r^r>>>7,61|r))^r>>>14)>>>0)/Math.pow(2,32);return void 0===e?n:t?Math.floor(n*(t-e))+e:Math.floor(n*e)}},{key:"shuffle",value:function(e){for(var t=e.length-1;t>0;t--){var r=Math.floor(this.next()*(t+1)),n=[e[r],e[t]];e[t]=n[0],e[r]=n[1]}return e}},{key:"sample",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(0===e.length)throw new RangeError("Cannot sample an empty array");var r=this.next(e.length),n=e[r];if(t&&(e[r]=e[e.length-1],e.pop()),void 0===n&&!Object.prototype.hasOwnProperty.call(e,r))throw new RangeError("Cannot sample a sparse array");return n}}]),t}();exports.Random=n;
},{}],"dgAm":[function(require,module,exports) {
"use strict";function t(t,n){return i(t)||r(t,n)||e()}function e(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function r(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var r=[],i=!0,n=!1,s=void 0;try{for(var a,o=t[Symbol.iterator]();!(i=(a=o.next()).done)&&(r.push(a.value),!e||r.length!==e);i=!0);}catch(l){n=!0,s=l}finally{try{i||null==o.return||o.return()}finally{if(n)throw s}}return r}}function i(t){if(Array.isArray(t))return t}function n(t){return o(t)||a(t)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function a(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function o(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function h(t,e,r){return e&&c(t.prototype,e),r&&c(t,r),t}Object.defineProperty(exports,"__esModule",{value:!0});var u=require("./dict"),d=require("./random"),f=require("./stats"),v=["AAEEGN","ELRTTY","AOOTTW","ABBJOO","EHRTVW","CIMOTU","DISTTY","EIOSST","DELRVY","ACHOPS","HIMNQU","EEINSU","EEGHNW","AFFKPS","HLNNRZ","DEILRX"],g=["AACIOT","AHMORS","EGKLUY","ABILTY","ACDEMP","EGINTV","GILRUW","ELPSTU","DENOSW","ACELRS","ABJMOQ","EEFHIY","EHINPS","DKNOTU","ADENVZ","BIFORX"],p=["AAAFRS","AAEEEE","AAFIRS","ADENNN","AEEEEM","AEEGMU","AEGMNN","AFIRSY","BJKQXZ","CCNSTW","CEIILT","CEILPT","CEIPST","DDLNOR","DHHLOR","DHHNOT","DHLNOR","EIIITT","EMOTTT","ENSSSU","FIPRSY","GORRVW","HIPRRY","NOOTUW","OOOTTU"];exports.SUFFIXES=["S","ER","ED","ING"];var y=function(){function e(t,r,i,n){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{dice:"New",dict:"NWL"};l(this,e),this.trie=t,this.dict=r,this.stats=i,this.dice="Big"===s.dice?p:"Old"===s.dice?g:v,this.size=Math.sqrt(this.dice.length),s.min=s.min||this.size-1,this.settings=s,this.random=n,this.seed=this.random.seed,this.board=[];var a=!0,o=!1,c=void 0;try{for(var h,u=this.dice[Symbol.iterator]();!(a=(h=u.next()).done);a=!0){var d=h.value,f=this.random.sample(d.split(""));this.board.push("Q"===f?"Qu":f)}}catch(y){o=!0,c=y}finally{try{a||null==u.return||u.return()}finally{if(o)throw c}}this.random.shuffle(this.board),this.possible=this.solve(),this.id=e.encodeID(this.settings,this.seed),this.played={},this.overtime=new Set,this.score={regular:0,overtime:0},this.start=+new Date,this.expired=null}return h(e,[{key:"play",value:function(t){if(!this.played[t]&&t.length>=this.settings.min){if(this.possible[t]){this.played[t]=+new Date;var r=e.score(t);this.expired&&this.overtime.add(t);var i=this.expired?"overtime":"regular";return this.score[i]+=r,r}this.played[t]=-new Date,this.expired&&this.overtime.add(t)}return 0}},{key:"toJSON",value:function(){return{seed:this.id,start:this.start,expired:this.expired,words:this.played,goal:{S:this.totals.s,A:this.totals.a,B:this.totals.b,C:this.totals.c,D:this.totals.d}}}},{key:"progress",value:function(){var t=this,r=0,i=0,s=0,a={},o=new Set,l={};for(var c in this.played)if(r++,this.played[c]<0)i++;else{s++;var h=!0,u=!1,d=void 0;try{for(var v,g=exports.SUFFIXES[Symbol.iterator]();!(h=(v=g.next()).done);h=!0){var p=v.value,y=void 0;y=["ER","ED"].includes(p)&&c.endsWith("E")?"".concat(c).concat(p.charAt(1)):"S"===p&&(c.endsWith("S")||c.endsWith("X"))?"".concat(c,"ES"):"".concat(c).concat(p),this.possible[y]&&!this.played[y]&&(a[y]=c)}}catch(x){u=!0,d=x}finally{try{h||null==g.return||g.return()}finally{if(u)throw d}}var E=f.Stats.toAnagram(c);l[E]=l[E]||[],l[E].push(c);var A=!0,S=!1,b=void 0;try{for(var N,O=m(c,this.settings.min)[Symbol.iterator]();!(A=(N=O.next()).done);A=!0){var I=N.value;this.possible[I]&&!this.played[I]&&o.add(I)}}catch(x){S=!0,b=x}finally{try{A||null==O.return||O.return()}finally{if(S)throw b}}}var T=[],w=function(e){T=T.concat(t.totals.anagrams[e].filter(function(t){return!l[e].includes(t)}))};for(var D in l)w(D);var R=new Set([].concat(n(Object.keys(a)),n(o),n(T)));return{invalid:i,valid:s,total:r,score:this.score.regular+this.score.overtime+Array.from(R).reduce(function(t,r){return e.score(r)+t},0),suffixes:a,subwords:o.size,anagrams:T.length,missing:R}}},{key:"state",value:function(){var t=this,e=this.progress(),r=function(e){return t.stats.stats(e,t.settings.dice,t.settings.dict).grade},i=function(e){return{word:e,grade:r(e),defn:u.define(e,t.dict)}};return{played:Array.from(Object.entries(this.played)).sort(function(t,e){return Math.abs(t[1])-Math.abs(e[1])}).map(function(e){var r=e[0],n=i(r);return e[1]<0&&(n.invalid=!0),t.overtime.has(r)&&(n.overtime=!0),n}),remaining:Object.keys(this.possible).filter(function(e){return!t.played[e]}).sort(function(t,i){var n=e.missing.has(t),s=e.missing.has(i);if(n&&!s)return-1;if(s&&!n)return 1;var a=r(t),o=r(i);return a>o?-1:o>a?1:t.length>i.length?1:i.length>t.length?-1:f.Stats.toAnagram(t).localeCompare(f.Stats.toAnagram(i))}).map(function(t){var r=i(t);return e.missing.has(t)&&(r.missing=!0),e.suffixes[t]&&(r.root=e.suffixes[t]),r}),progress:e,totals:this.totals}}},{key:"solve",value:function(){for(var e=this,r={},i=[],n=0;n<this.size;n++)for(var s=0;s<this.size;s++){var a=this.board[this.size*n+s],o=a.charCodeAt(0),l=this.trie.children[o-65];"Qu"===a&&void 0!==l&&(a="QU",l=l.children[20]),void 0!==l&&i.push([s,n,a,l,[[s,n]]])}for(;0!==i.length;)for(var c=t(i.pop(),5),h=c[0],u=c[1],d=c[2],f=c[3],v=c[4],g=function(){var n=t(y[p],2),s=n[0],a=n[1],o=h+s,l=u+a;if(void 0!==v.find(function(t){return t[0]===o&&t[1]===l}))return"continue";if(0<=o&&o<e.size&&0<=l&&l<e.size){var c=v.slice();c.push([o,l]);var g=e.board[e.size*l+o],m=f.children[g.charCodeAt(0)-65];if("Qu"===g&&void 0!==m&&(g="QU",m=m.children[20]),void 0!==m){var E=d+g;("boolean"==typeof m.isWord?m.isWord:m.isWord.includes(e.settings.dict.charAt(0)))&&E.length>=e.settings.min&&(r[E]=c),i.push([o,l,E,m,c])}}},p=0,y=[[1,0],[1,-1],[0,-1],[-1,-1],[-1,0],[-1,1],[0,1],[1,1]];p<y.length;p++)g();return r}},{key:"totals",get:function(){if(this.totals_)return this.totals_;var t={},r={};for(var i in this.possible){var n=f.Stats.toAnagram(i);t[n]=t[n]||[],t[n].push(i);var s=this.stats.stats(i,this.settings.dice,this.settings.dict).grade;r[s]=(r[s]||0)+e.score(i)}var a=r.D||0,o=a+(r.C||0),l=o+(r.B||0),c=l+(r.A||0),h=c+(r[" "]||0);return this.totals_={s:h,a:c,b:l,c:o,d:a,anagrams:t}}}],[{key:"encodeID",value:function(t,e){return"".concat(t.dice.charAt(0)).concat(t.min).concat(t.dict.charAt(0)).concat(e)}},{key:"decodeID",value:function(t){var e=t.charAt(0),r="N"===e?"New":"O"===e?"Old":"B"===e?"Big":void 0,i=Number(t.charAt(1)),n=t.charAt(2),s="N"===n?"NWL":"E"===n?"ENABLE":"C"===n?"CSW":void 0,a=t.slice(3),o=a.length?Number(a):NaN;return String(o)!==a&&(o=NaN),[{dice:r,min:i,dict:s},o]}},{key:"fromJSON",value:function(r,i,n,s){var a=t(e.decodeID(r.seed),2),o=a[0],l=a[1],c=new d.Random;c.seed=l;var h=new e(i,n,s,c,o);h.start=r.start,h.expired=r.expired,h.played=r.words;var u={regular:0,overtime:0};for(var f in h.played){var v=e.score(f);!h.expired||h.played[f]<=h.expired?u.regular+=v:u.overtime+=v}return h.score=u,h}},{key:"score",value:function(t){return t.length<3?0:t.length<=4?1:5===t.length?2:6===t.length?3:7===t.length?5:11}}]),e}();function m(t,e){for(var r=new Set,i=0;i<t.length;i++)for(var n=1;n<=t.length-i;n++){var s=t.substr(i,n);s.length>=e&&r.add(s)}return r}exports.Game=y;
},{"./dict":"qafh","./random":"Mkcc","./stats":"Q9FA"}],"xNB3":[function(require,module,exports) {
"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function i(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}Object.defineProperty(exports,"__esModule",{value:!0});var s=function(){function e(i,s){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;t(this,e),this.duration=s,this.display=i,this.elapsed=n,this.interval=null,this.expireFn=a,this.updateFn=r;var l=this.duration-this.elapsed;l<0?this.display.classList.add("expired"):this.display.classList.remove("expired"),this.render(l)}return i(e,[{key:"toJSON",value:function(){return{duration:this.duration,elapsed:this.elapsed}}},{key:"start",value:function(){var t=this;this.interval||(this.begin=(new Date).getTime(),this.last=this.begin,this.interval=setInterval(function(){return t.update()},100))}},{key:"stop",value:function(){this.interval&&(clearInterval(this.interval),this.interval=null)}},{key:"pause",value:function(){this.interval?(this.stop(),this.begin=(new Date).getTime(),this.elapsed+=this.begin-this.last,this.last=this.begin):this.start()}},{key:"expired",value:function(){return this.elapsed>=this.duration}},{key:"update",value:function(){var t,e=(new Date).getTime();this.elapsed+=e-this.last,this.last=e,this.expired()?(this.display.classList.add("expired"),t=this.elapsed-this.duration,this.expireFn&&(this.expireFn(),this.expireFn=null)):t=this.duration-this.elapsed;var i=this.display.textContent;this.render(t),i!==this.display.textContent&&this.updateFn&&this.updateFn()}},{key:"render",value:function(t){var e=Math.floor(t%36e5/6e4),i="".concat(Math.floor(t%6e4/1e3)).padStart(2,"0");this.display.textContent="".concat(e,":").concat(i)}}]),e}();exports.Timer=s;
},{}],"LEQV":[function(require,module,exports) {
"use strict";function e(e,r){return n(e)||a(e,r)||t()}function t(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function a(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var a=[],n=!0,r=!1,l=void 0;try{for(var i,o=e[Symbol.iterator]();!(n=(i=o.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(c){r=!0,l=c}finally{try{n||null==o.return||o.return()}finally{if(r)throw l}}return a}}function n(e){if(Array.isArray(e))return e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,a){return t&&l(e.prototype,t),a&&l(e,a),e}var o=this&&this.__awaiter||function(e,t,a,n){return new(a||(a=Promise))(function(r,l){function i(e){try{c(n.next(e))}catch(t){l(t)}}function o(e){try{c(n.throw(e))}catch(t){l(t)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a(function(e){e(t)})).then(i,o)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0});var c=require("./global"),d=require("./ui"),s=require("../game"),u=function(){function t(e){r(this,t),this.board=e}return i(t,[{key:"attach",value:function(){var t=this;this.container=d.UI.createElementWithId("div","game");var a=d.UI.createElementWithId("div","wrapper");a.classList.add("score");var n=d.UI.createBackButton(function(){return o(t,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d.UI.root.removeChild(this.detach()),e.t0=d.UI.root,e.next=4,this.board.attach({resume:"return"});case 4:e.t1=e.sent,e.t0.appendChild.call(e.t0,e.t1);case 6:case"end":return e.stop()}},e,this)}))});this.container.appendChild(d.UI.createTopbar(n,this.board.timerDisplay,this.board.score.cloneNode(!0)));var r=this.board.game,l=r.state(),i=r.score.regular+r.score.overtime,u=l.totals[c.global.SETTINGS.grade.toLowerCase()],h="".concat(i,"/").concat(u," (").concat(Math.round(i/u*100).toFixed(0),"%)"),v=p(r.id,h,"block"),m=document.createElement("div");m.classList.add("collapsible-content"),this.displayPlayed(l,m,!0),this.displayPossible(l,m),a.appendChild(v),a.appendChild(m),v.classList.add("active"),m.style.display="block";for(var b=function(n){for(var r=c.global.HISTORY[n],l=0,i=0,o=Object.entries(r.words);i<o.length;i++){var d=e(o[i],2),u=d[0];d[1]>0&&(l+=s.Game.score(u))}if(!l)return"continue";var h="".concat(l,"/").concat(r.goal[c.global.SETTINGS.grade]," (").concat(Math.round(l/r.goal[c.global.SETTINGS.grade]*100).toFixed(0),"%)"),v=document.createElement("div");v.classList.add("collapsible-content"),v.classList.add("lazy");var m=p(r.seed,h,"block",function(){if(v.classList.contains("lazy")){v.classList.remove("lazy");var e=s.Game.fromJSON(r,c.global.TRIE,c.global.DICT,c.global.STATS).state();t.displayPlayed(e,v),t.displayPossible(e,v)}});a.appendChild(m),a.appendChild(v)},y=c.global.HISTORY.length-1;y>=0;y--)b(y);return this.container.appendChild(a),this.container}},{key:"detach",value:function(){return this.container}},{key:"displayPlayed",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e.progress,r=p("PLAYED","(".concat(n.score,") ").concat(Object.keys(n.suffixes).length,"/").concat(n.subwords,"/").concat(n.anagrams," (").concat(n.invalid,"/").concat(n.total,")"),"table"),l=document.createElement("table");l.classList.add("collapsible-content"),l.classList.add("results"),l.classList.add("played");var i=!0,o=!1,d=void 0;try{for(var s,u=e.played[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var h=s.value,v=h.word,m=h.grade,b=h.overtime,y=h.defn,f=h.invalid,g=document.createElement("tr");m<c.global.SETTINGS.grade&&g.classList.add("hard"),f&&g.classList.add("error"),b&&g.classList.add("overtime");var C=document.createElement("td"),E=document.createElement("b");E.textContent=v,C.appendChild(E),g.appendChild(C),C=document.createElement("td"),y&&(C.textContent=y),g.appendChild(C),l.appendChild(g)}}catch(L){o=!0,d=L}finally{try{i||null==u.return||u.return()}finally{if(o)throw d}}a&&(r.classList.add("active"),l.style.display="table"),t.appendChild(r),t.appendChild(l)}},{key:"displayPossible",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e.totals,r=p("POSSIBLE","".concat(n.d,"/").concat(n.c,"/").concat(n.b,"/").concat(n.a," (").concat(n.s,")"),"table"),l=document.createElement("table");l.classList.add("collapsible-content"),l.classList.add("results"),l.classList.add("possible");var i=!0,o=!1,d=void 0;try{for(var s,u=e.remaining[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var h=s.value,v=h.word,m=h.grade,b=h.root,y=h.missing,f=h.defn,g=document.createElement("tr");m<c.global.SETTINGS.grade&&g.classList.add("hard");var C=document.createElement("td"),E=document.createElement("b");if(b){var L=document.createElement("span");L.textContent=b;var S=document.createElement("span");S.classList.add("underline"),S.textContent=v.slice(b.length),E.appendChild(L),E.appendChild(S)}else y&&E.classList.add("underline"),E.textContent=v;C.appendChild(E),g.appendChild(C),(C=document.createElement("td")).textContent=f,g.appendChild(C),l.appendChild(g)}}catch(x){o=!0,d=x}finally{try{i||null==u.return||u.return()}finally{if(o)throw d}}a&&(r.classList.add("active"),l.style.display="table"),t.appendChild(r),t.appendChild(l)}}]),t}();function p(e,t,a,n){var r=document.createElement("button");r.setAttribute("type","button"),r.classList.add("collapsible");var l=document.createElement("div"),i=document.createElement("span");i.classList.add("collapsible-title"),i.textContent=e;var o=document.createElement("span");return o.classList.add("collapsible-details"),o.textContent=t,l.appendChild(i),l.appendChild(o),r.appendChild(l),r.addEventListener("click",function(){r.classList.toggle("active");var e=r.nextElementSibling;e.style.display===a?e.style.display="none":(n&&n(),e.style.display=a)}),r}exports.ScorePane=u;
},{"./global":"VlPw","./ui":"ePHQ","../game":"dgAm"}],"mx3t":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function r(e,r,a){return r&&t(e.prototype,r),a&&t(e,a),e}var a=this&&this.__awaiter||function(e,t,r,a){return new(r||(r=Promise))(function(n,i){function s(e){try{l(a.next(e))}catch(t){i(t)}}function o(e){try{l(a.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(s,o)}l((a=a.apply(e,t||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0});var n=require("./global"),i=require("./ui"),s=require("../game"),o=require("../timer"),l=require("../random"),c=require("./score"),d=require("../dict"),u=18e4,h=function(){function t(r){e(this,t),this.last=r?r.last:"",this.kept=!!r&&r.kept,this.game=r?r.game:void 0;var a=r?this.createTimer(r.timer.duration,r.timer.elapsed):this.createTimer(),n=a.display,i=a.timer;this.timer=i,this.timerDisplay=n}return r(t,[{key:"toJSON",value:function(){return{last:this.last,kept:this.kept,timer:this.timer.toJSON(),game:this.game&&("random"in this.game?this.game.toJSON():this.game)}}},{key:"attach",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a(this,void 0,void 0,regeneratorRuntime.mark(function t(){var r,a,o,d,u,h,f,m,v,p,g,b,y,w,x=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([n.global.LOADED.DICT,n.global.LOADED.TRIE(),n.global.LOADED.STATS(),n.global.LOADED.HISTORY]);case 2:if(this.played){t.next=23;break}for(this.played=new Set,r=!0,a=!1,o=void 0,t.prev=7,d=n.global.HISTORY[Symbol.iterator]();!(r=(u=d.next()).done);r=!0)h=u.value,this.played.add(h.seed);t.next=15;break;case 11:t.prev=11,t.t0=t.catch(7),a=!0,o=t.t0;case 15:t.prev=15,t.prev=16,r||null==d.return||d.return();case 18:if(t.prev=18,!a){t.next=21;break}throw o;case 21:return t.finish(18);case 22:return t.finish(15);case 23:if(this.game&&e.resume){t.next=51;break}if(!this.game){t.next=33;break}if(this.timer.stop(),"random"in this.game||(this.game=s.Game.fromJSON(this.game,n.global.TRIE,n.global.DICT,n.global.STATS)),this.played.add(this.game.id),!Object.values(this.game.played).filter(function(e){return e>0}).length){t.next=33;break}return this.updateGames(),n.global.HISTORY.push(this.game.toJSON()),t.next=33,n.global.STORE.set("history",n.global.HISTORY);case 33:m=new l.Random;case 34:if(f&&Object.keys(f.possible).length){t.next=43;break}if(m.seed=n.global.SEED,v=s.Game.encodeID(n.global.SETTINGS,m.seed),!this.played.has(v)||e.allowDupes){t.next=40;break}return n.global.SEED++,t.abrupt("continue",34);case 40:f=new s.Game(n.global.TRIE,n.global.DICT,n.global.STATS,m,n.global.SETTINGS),t.next=34;break;case 43:this.game=f,p=this.createTimer(),g=p.display,b=p.timer,this.timer=b,this.timerDisplay=g,this.last="",this.kept=!1,t.next=52;break;case 51:"random"in this.game||(this.game=s.Game.fromJSON(this.game,n.global.TRIE,n.global.DICT,n.global.STATS));case 52:return this.container=i.UI.createElementWithId("div","game"),(y=i.UI.createBackButton(function(){return i.UI.toggleView("Menu")})).addEventListener("long-press",function(){return x.refresh()}),this.score=i.UI.createElementWithId("div","score"),this.score.addEventListener("mouseup",function(){var e=new c.ScorePane(x);i.UI.root.removeChild(x.detach("Score")),i.UI.root.appendChild(e.attach())}),this.score.addEventListener("long-press",function(){return x.onLongPress()}),this.score.addEventListener("long-press-up",function(){return x.onLongPressUp()}),this.displayScore(),this.container.appendChild(i.UI.createTopbar(y,this.timerDisplay,this.score)),this.full=i.UI.createElementWithId("div","full"),this.container.appendChild(this.full),this.container.appendChild(this.renderBoard()),this.word=i.UI.createElementWithId("div","word"),this.word.classList.add("word"),"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0||(this.word.contentEditable="true"),this.container.appendChild(this.word),this.defn=i.UI.createElementWithId("div","defn"),this.defn.classList.add("definition"),this.container.appendChild(this.defn),"return"!==e.resume&&this.timer.start(),w="#".concat(this.game.id),document.location.hash!==w&&window.history.replaceState(null,"",w),t.abrupt("return",this.container);case 75:case"end":return t.stop()}},t,this,[[7,11,15,23],[16,,18,22]])}))}},{key:"renderBoard",value:function(){var e=this,t=this.game,r=i.UI.createElementWithId("div","foo"),a=i.UI.createElementWithId("table","board");t.size>4&&a.classList.add("big"),this.tds=new Set;for(var n,s=new l.Random(t.seed),o=0;o<t.size;o++){for(var c=document.createElement("tr"),d=0;d<t.size;d++){var u=document.createElement("td");u.textContent=t.board[o*t.size+d],"Qu"===u.textContent&&u.classList.add("qu"),["M","W","Z"].includes(u.textContent)&&u.classList.add("underline"),u.classList.add("rotate".concat(90*s.next(0,4))),u.setAttribute("data-x",String(o)),u.setAttribute("data-y",String(d));var h=document.createElement("div");h.classList.add("target"),h.setAttribute("data-x",String(o)),h.setAttribute("data-y",String(d)),u.appendChild(h),c.appendChild(u),this.tds.add(u)}a.appendChild(c)}var f=function(){if(n){var e=!0,t=!1,r=void 0;try{for(var a,i=n[Symbol.iterator]();!(e=(a=i.next()).done);e=!0){a.value.classList.remove("selected")}}catch(s){t=!0,r=s}finally{try{e||null==i.return||i.return()}finally{if(t)throw r}}}},m=function(t){var r=t.touches[0],a=document.elementFromPoint(r.clientX,r.clientY);if(a&&a.matches(".target")){var i=a.parentNode;i.classList.add("selected"),n.has(i)||(n.add(i),e.word.textContent+=i.textContent)}};return a.addEventListener("touchstart",function(t){e.clear(),f(),n=new Set,m(t)}),a.addEventListener("touchend",function(){f(),e.play()}),a.addEventListener("touchmove",m),r.appendChild(a),r}},{key:"afterAttach",value:function(){i.UI.permaFocus(this.word)}},{key:"detach",value:function(e){return"Score"!==e&&"Define"!==e&&this.timer.pause(),this.container}},{key:"refresh",value:function(e){return a(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i.UI.persist(),t.next=3,i.UI.detachView("Board","Board");case 3:return t.next=5,i.UI.attachView("Board",e);case 5:case"end":return t.stop()}},t)}))}},{key:"play",value:function(){var e=this,t=this.game,r=(this.word.textContent||"").toUpperCase();(r.length<3||s.SUFFIXES.includes(r))&&(r="".concat(this.last).concat(r),this.word.textContent=r);var a=t.play(r);this.last=r,i.UI.persist();var o="Hide"===t.settings.display;if(this.kept=!0,!o&&a)this.displayScore(),this.defn.textContent=d.define(r,n.global.DICT);else{var l=this.word.textContent||void 0;!o&&t.played[r]<0&&this.word.classList.add("error"),this.word.classList.add("fade");this.word.addEventListener("animationend",function t(){e.clear(l),e.word.removeEventListener("animationend",t)})}}},{key:"displayScore",value:function(){var e=this.game;if("Hide"!==e.settings.display){if("Full"===e.settings.display){var t=e.state(),r=t.progress,a="(".concat(r.score,") ").concat(Object.keys(r.suffixes).length,"/").concat(r.subwords,"/").concat(r.anagrams),i=e.score.regular+e.score.overtime,s=t.totals[n.global.SETTINGS.grade.toLowerCase()];this.full.textContent="".concat(a," - ").concat(i,"/").concat(s," (").concat(Math.round(i/s*100).toFixed(0),"%)")}var o=e.score;this.score.textContent=o.overtime?"".concat(o.regular," / ").concat(o.overtime):"".concat(o.regular)}else this.score.textContent="?"}},{key:"clear",value:function(e){e&&e!==this.word.textContent||(this.word.textContent="",this.word.classList.remove("error"),this.word.classList.remove("fade"),this.defn.textContent="",this.kept=!1)}},{key:"createTimer",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=i.UI.createElementWithId("div","timer");return a.addEventListener("click",function(){return e.timer.pause()}),{display:a,timer:new o.Timer(a,t,r,function(){e.game&&!e.game.expired&&(e.game.expired=+new Date)},function(){return i.UI.persist()})}}},{key:"updateGames",value:function(){if(n.global.GAMES){var e=this.game,t=new Set;for(var r in e.played)e.played[r]>0&&t.add(r);t.size&&(n.global.GAMES.length>=n.global.LIMIT&&n.global.GAMES.shift(),n.global.GAMES.push([e.possible,t]))}}},{key:"onLongPress",value:function(){for(var e=this.game,t=e.size,r=[],a=0;a<t;a++){for(var n=[],i=0;i<t;i++)n.push(0);r.push(n)}var o=0;for(var l in e.possible)if(!e.played[l]){var c=s.Game.score(l);o+=c;var d=!0,u=!1,h=void 0;try{for(var f,m=e.possible[l][Symbol.iterator]();!(d=(f=m.next()).done);d=!0){var v=f.value;r[v[1]][v[0]]+=c}}catch(I){u=!0,h=I}finally{try{d||null==m.return||m.return()}finally{if(u)throw h}}}var p=!0,g=!1,b=void 0;try{for(var y,w=this.tds[Symbol.iterator]();!(p=(y=w.next()).done);p=!0){var x=y.value,S=r[Number(x.dataset.x)][Number(x.dataset.y)]/o;x.style.backgroundColor="rgba(255,0,0,".concat(S,")")}}catch(I){g=!0,b=I}finally{try{p||null==w.return||w.return()}finally{if(g)throw b}}}},{key:"onLongPressUp",value:function(){var e=!0,t=!1,r=void 0;try{for(var a,n=this.tds[Symbol.iterator]();!(e=(a=n.next()).done);e=!0){a.value.style.removeProperty("background-color")}}catch(i){t=!0,r=i}finally{try{e||null==n.return||n.return()}finally{if(t)throw r}}}},{key:"onKeyDown",value:function(e){return a(this,void 0,void 0,regeneratorRuntime.mark(function t(){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.kept&&this.clear(),i.UI.focusContentEditable(this.word),13!==(r=e.keyCode)&&32!==r){t.next=9;break}e.preventDefault(),this.play(),i.UI.focusContentEditable(this.word),t.next=15;break;case 9:if(27!==r){t.next=14;break}return t.next=12,i.UI.toggleView("Define");case 12:t.next=15;break;case 14:(r<65||r>90)&&8!==r&&e.preventDefault();case 15:case"end":return t.stop()}},t,this)}))}}]),t}();exports.BoardView=h;
},{"./global":"VlPw","./ui":"ePHQ","../game":"dgAm","../timer":"xNB3","../random":"Mkcc","./score":"LEQV","../dict":"qafh"}],"GDz3":[function(require,module,exports) {
"use strict";function e(e,i){return r(e)||n(e,i)||t()}function t(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function n(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var s,d=e[Symbol.iterator]();!(r=(s=d.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(o){i=!0,a=o}finally{try{r||null==d.return||d.return()}finally{if(i)throw a}}return n}}function r(e){if(Array.isArray(e))return e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}var d=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,a){function s(e){try{o(r.next(e))}catch(t){a(t)}}function d(e){try{o(r.throw(e))}catch(t){a(t)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,d)}o((r=r.apply(e,t||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0});var o=require("./global"),l=require("./ui"),u=require("../dict"),c=function(){function t(e){i(this,t),this.defn=null,this.stats=null,this.anagrams=null,this.word=e?e.word:""}return s(t,[{key:"toJSON",value:function(){return{word:this.word}}},{key:"attach",value:function(e){return d(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([o.global.LOADED.DICT,o.global.LOADED.STATS()]);case 2:return e&&(this.word=e),this.define=l.UI.createElementWithId("div","define"),this.search=l.UI.createElementWithId("div","search"),this.search.classList.add("word"),this.search.contentEditable="true",this.search.textContent=this.word,this.define.appendChild(this.search),this.define.addEventListener("input",function(){return n.query(n.search.textContent||"")}),this.update(),t.abrupt("return",this.define);case 12:case"end":return t.stop()}},t,this)}))}},{key:"afterAttach",value:function(){l.UI.permaFocus(this.search)}},{key:"query",value:function(e){this.search.textContent=e,this.word=e.toUpperCase(),this.update(),l.UI.persist()}},{key:"detach",value:function(){return this.defn=null,this.stats=null,this.anagrams=null,this.define}},{key:"update",value:function(){var e=o.global.DICT[this.word];if(e){var t=l.UI.createElementWithId("div","defineDefn");t.classList.add("definition"),t.textContent=u.define(this.word,o.global.DICT),e.dict&&!e.dict.includes(o.global.SETTINGS.dict.charAt(0))||this.word.length<o.global.SETTINGS.min?this.define.classList.add("hard"):this.define.classList.remove("hard");var n=function(e,t,n){var r=document.createElement("td"),i=document.createElement("b");i.textContent=t,r.appendChild(i),e.appendChild(r),(r=document.createElement("td")).classList.add("value"),r.textContent=n,e.appendChild(r)},r=o.global.STATS.stats(this.word,o.global.SETTINGS.dice,o.global.SETTINGS.dict),i=document.createElement("table");i.classList.add("roundedTable");var a=document.createElement("tr");n(a,"Grade"," "===r.grade?"S":r.grade),n(a,"Score",r.word?String(r.word.p):"-"),i.appendChild(a),n(a=document.createElement("tr"),"Frequency",r.freq?String(r.freq):"-"),n(a,"Anagram",r.anagram?String(r.anagram.p):"-"),i.appendChild(a),i.appendChild(a),this.defn&&this.define.removeChild(this.defn),this.define.appendChild(t),this.defn=t,this.stats&&this.define.removeChild(this.stats),this.define.appendChild(i),this.stats=i}else this.defn&&(this.define.removeChild(this.defn),this.defn=null),this.stats&&(this.define.removeChild(this.stats),this.stats=null);var s=this.renderAnagrams();this.anagrams&&this.define.removeChild(this.anagrams),this.define.appendChild(s),this.anagrams=s}},{key:"renderAnagrams",value:function(){var t=this,n=l.UI.createElementWithId("div","defineAnagrams"),r=o.global.STATS.anagrams(this.word,o.global.SETTINGS.dict).words;if(r.length<=1)return n;var i=[],a=new Set,s=!0,d=!1,u=void 0;try{for(var c,h=r[Symbol.iterator]();!(s=(c=h.next()).done);s=!0){var f=c.value,p=f.split("").reverse().join("");p!==f&&r.includes(p)?a.add("".concat([f,p].sort().join(" "))):i.push(f)}}catch(k){d=!0,u=k}finally{try{s||null==h.return||h.return()}finally{if(d)throw u}}var v=function(e){var n=document.createElement(e===t.word?"b":"span");return n.textContent=e,n.addEventListener("click",function(){return t.query(e)}),n},m=!0,g=!1,y=void 0;try{for(var b,w=a[Symbol.iterator]();!(m=(b=w.next()).done);m=!0){var C=e(b.value.split(" "),2),x=C[0],S=C[1];n.appendChild(document.createTextNode(" (")),n.appendChild(v(x)),n.appendChild(document.createTextNode(" ")),n.appendChild(v(S)),n.appendChild(document.createTextNode(") "))}}catch(k){g=!0,y=k}finally{try{m||null==w.return||w.return()}finally{if(g)throw y}}for(var T=0,E=i;T<E.length;T++){var I=E[T];n.appendChild(v(I)),n.appendChild(document.createTextNode(" "))}return n}},{key:"onKeyDown",value:function(e){return d(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(l.UI.focusContentEditable(this.search),13!==(n=e.keyCode)&&32!==n){t.next=11;break}if(!this.word){t.next=7;break}this.query(""),t.next=9;break;case 7:return t.next=9,l.UI.toggleView("Define");case 9:t.next=17;break;case 11:if(27!==n){t.next=16;break}return t.next=14,l.UI.toggleView("Define");case 14:t.next=17;break;case 16:(n<65||n>90)&&8!==n&&e.preventDefault();case 17:case"end":return t.stop()}},t,this)}))}}]),t}();exports.DefineView=c;
},{"./global":"VlPw","./ui":"ePHQ","../dict":"qafh"}],"qI3H":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,a){function u(e){try{c(r.next(e))}catch(t){a(t)}}function o(e){try{c(r.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(u,o)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0});var i=require("./ui"),a=function(){function t(){e(this,t)}return n(t,[{key:"toJSON",value:function(){}},{key:"attach",value:function(){var e=this;this.menu=i.UI.createElementWithId("div","menu");var t=i.UI.createElementWithId("h1","title");t.textContent="BOGGLE",t.addEventListener("long-press",function(){return r(e,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,caches.keys();case 2:if(e.t0=function(e){return e.startsWith("cache")},!(t=e.sent.find(e.t0))){e.next=7;break}return e.next=7,caches.delete(t);case 7:document.location.reload(!0);case 8:case"end":return e.stop()}},e)}))}),this.menu.appendChild(t);var n=document.createElement("nav"),a=function(e,t){var n=document.createElement("button");return n.classList.add("toggle"),n.textContent=e,n.addEventListener("click",t),n};return i.UI.Views.Board.game?(n.appendChild(a("RESUME",function(){return i.UI.toggleView("Board",{resume:!0})})),n.appendChild(a("NEW GAME",function(){return i.UI.toggleView("Board")}))):n.appendChild(a("PLAY",function(){return i.UI.toggleView("Board")})),n.appendChild(a("TRAIN",function(){return i.UI.toggleView("Training")})),n.appendChild(a("DEFINE",function(){return i.UI.toggleView("Define")})),n.appendChild(a("STATS",function(){return i.UI.toggleView("Stats")})),n.appendChild(a("SETTINGS",function(){return i.UI.toggleView("Settings")})),this.menu.appendChild(n),this.menu}},{key:"detach",value:function(){return this.menu}}]),t}();exports.MenuView=a;
},{"./ui":"ePHQ"}],"AOXD":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,a){function o(e){try{c(n.next(e))}catch(t){a(t)}}function u(e){try{c(n.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,u)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0});var i=require("./global"),a=require("./ui"),o=require("../dict"),u=require("../store"),c=function(){function t(r){e(this,t),this.size=r?r.size:0}return r(t,[{key:"toJSON",value:function(){return{size:this.size}}},{key:"attach",value:function(e){return n(this,void 0,void 0,regeneratorRuntime.mark(function t(){var r,n,c,s,l,d,f,h,v,p,w,g,b,m,S;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([i.global.LOADED.DICT,i.global.LOADED.STATS()]);case 2:return this.review=a.UI.createElementWithId("div","review"),e&&(this.size=e),r=a.UI.createBackButton(function(){return a.UI.toggleView("Training")}),(n=a.UI.createElementWithId("div","progress")).textContent=String(this.size),this.review.appendChild(a.UI.createTopbar(r,null,n)),c=i.global.SETTINGS.dice.charAt(0).toLowerCase(),s=function(e){return i.global.STATS.anagrams(e,i.global.SETTINGS.dict)[c]||0},l=new u.Store("training",i.global.SETTINGS.dict),t.next=13,l.get("data");case 13:for(d=t.sent,f=d.filter(function(e){return e.e<2}).sort(function(e,t){return s(t.k)/t.e-s(e.k)/e.e}).map(function(e){return e.k}),(h=document.createElement("div")).classList.add("wrapper"),v=!0,p=!1,w=void 0,t.prev=20,g=f[Symbol.iterator]();!(v=(b=g.next()).done);v=!0)m=b.value,(S=document.createElement("table")).classList.add("results"),a.UI.addAnagramRows(S,o.order(i.global.STATS.anagrams(m,i.global.SETTINGS.dict).words)),h.appendChild(S);t.next=28;break;case 24:t.prev=24,t.t0=t.catch(20),p=!0,w=t.t0;case 28:t.prev=28,t.prev=29,v||null==g.return||g.return();case 31:if(t.prev=31,!p){t.next=34;break}throw w;case 34:return t.finish(31);case 35:return t.finish(28);case 36:return this.review.appendChild(h),t.abrupt("return",this.review);case 38:case"end":return t.stop()}},t,this,[[20,24,28,36],[29,,31,35]])}))}},{key:"detach",value:function(){return this.review}}]),t}();exports.ReviewView=c;
},{"./global":"VlPw","./ui":"ePHQ","../dict":"qafh","../store":"z7jk"}],"UoCm":[function(require,module,exports) {
"use strict";function e(e,a){return i(e)||n(e,a)||t()}function t(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function n(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],i=!0,a=!1,r=void 0;try{for(var s,o=e[Symbol.iterator]();!(i=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(u){a=!0,r=u}finally{try{i||null==o.return||o.return()}finally{if(a)throw r}}return n}}function i(e){if(Array.isArray(e))return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}Object.defineProperty(exports,"__esModule",{value:!0});var o=require("./global"),u=require("./ui"),c=require("../game"),l=function(){function t(){a(this,t)}return s(t,[{key:"toJSON",value:function(){}},{key:"attach",value:function(){var e=this;this.settings=u.UI.createElementWithId("div","settings");this.seed=u.UI.createElementWithId("div","seed"),this.seed.textContent=c.Game.encodeID(o.global.SETTINGS,o.global.SEED),this.seed.setAttribute("contenteditable","true"),this.seed.addEventListener("input",function(){return e.onInput(e.seed.textContent||"")});var t=u.UI.createBackButton(function(){return u.UI.toggleView("Menu")});this.settings.appendChild(u.UI.createTopbar(t,this.seed,null));var n=function(e,t,n,i){return a=u.UI.createRadios(i||e,t.map(function(t){return t===String(o.global.SETTINGS[e])?[t]:t}),n),(r=document.createElement("div")).classList.add("row"),r.appendChild(a),r;var a,r};return this.settings.appendChild(n("dice",["New","Old","Big"],function(){var e="Big"===this.value?4:3;document.getElementById("min".concat(e)).checked=!0,u.UI.updateSettings({dice:this.value,min:e})})),this.settings.appendChild(n("min",["3","4","5"],function(){u.UI.updateSettings({min:Number(this.value)})})),this.settings.appendChild(n("dict",["NWL","ENABLE","CSW"],function(){u.UI.updateSettings({dict:this.value})})),this.settings.appendChild(n("grade",["A","B","C","D"],function(){u.UI.updateSettings({grade:this.value})})),this.settings.appendChild(n("display",["Hide","Show","Full"],function(){u.UI.updateSettings({display:this.value})},"scoreDisplay")),this.settings.appendChild(n("theme",["Light","Dark"],function(){var e=this.value;u.UI.updateSettings({theme:e}),u.UI.setTheme(e)})),this.settings}},{key:"detach",value:function(){return this.settings}},{key:"update",value:function(){this.seed.textContent=c.Game.encodeID(o.global.SETTINGS,o.global.SEED),this.seed.classList.remove("error");var e=function(e){return document.getElementById(e).checked=!0};e("dice".concat(o.global.SETTINGS.dice)),e("min".concat(o.global.SETTINGS.min)),e("dict".concat(o.global.SETTINGS.dict)),e("grade".concat(o.global.SETTINGS.grade)),e("scoreDisplay".concat(o.global.SETTINGS.display)),e("theme".concat(o.global.SETTINGS.theme||"Light"))}},{key:"onInput",value:function(t){var n=e(c.Game.decodeID(t),2),i=n[0],a=n[1];isNaN(a)||!(i.dice&&i.dict&&i.min)?this.seed.classList.add("error"):(u.UI.updateSettings(i,a,!1),this.update())}}]),t}();exports.SettingsView=l;
},{"./global":"VlPw","./ui":"ePHQ","../game":"dgAm"}],"PRMN":[function(require,module,exports) {
"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function n(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}var a=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(r,l){function o(t){try{c(a.next(t))}catch(e){l(e)}}function i(t){try{c(a.throw(t))}catch(e){l(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,i)}c((a=a.apply(t,e||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0});var r=require("./global"),l=require("./ui"),o=require("../game"),i=function(){function e(n){t(this,e),this.table=null,this.section=n?n.section:"WORD"}return n(e,[{key:"toJSON",value:function(){return{section:this.section}}},{key:"attach",value:function(){return a(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e,n,a,i,c,u,d,s,h=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([r.global.LOADED.HISTORY,r.global.LOADED.TRIE(),r.global.LOADED.DICT,r.global.LOADED.STATS()]);case 2:if(!r.global.GAMES)for(r.global.GAMES=[],e=r.global.HISTORY.length-1;e>=0&&r.global.GAMES.length<r.global.LIMIT;e--){for(i in n=o.Game.fromJSON(r.global.HISTORY[e],r.global.TRIE,r.global.DICT,r.global.STATS),a=new Set,n.played)n.played[i]>0&&a.add(i);r.global.GAMES.push([n.possible,a])}return c=r.global.STATS.history(r.global.GAMES,r.global.SETTINGS.dice,r.global.SETTINGS.dict),this.stats=l.UI.createElementWithId("div","stats"),u=l.UI.createBackButton(function(){return l.UI.toggleView("Menu")}),d=function(t){return h.display(t,c)},s=l.UI.createRadios("statsSelect",["WORD","ANAGRAM","PAIR"].map(function(t){return t===h.section?[t]:t}),function(){d(this.value),l.UI.persist()}),this.stats.appendChild(l.UI.createTopbar(u,s,null)),this.display(this.section,c),t.abrupt("return",this.stats);case 11:case"end":return t.stop()}},t,this)}))}},{key:"detach",value:function(){return this.table=null,this.stats}},{key:"display",value:function(t,e){this.section=t;var n=e.words,a=e.anadromes,r=e.anagrams,o=function(t){var e=document.createElement("b");return e.textContent=t,e.addEventListener("click",function(){return l.UI.toggleView("Define",t)}),e},i=document.createElement("table");if(i.classList.add("roundedTable"),"PAIR"===t){var c=!0,u=!1,d=void 0;try{for(var s,h=a[Symbol.iterator]();!(c=(s=h.next()).done);c=!0){var f=s.value,p=f.n,m=f.fn,v=f.d,b=f.fd,y=f.e,g=document.createElement("tr"),E=document.createElement("td");E.appendChild(o(p)),g.appendChild(E),(E=document.createElement("td")).textContent="".concat(m,"/").concat(b," (").concat(y,")"),g.appendChild(E),(E=document.createElement("td")).appendChild(o(v)),g.appendChild(E),i.appendChild(g)}}catch(it){u=!0,d=it}finally{try{c||null==h.return||h.return()}finally{if(u)throw d}}}else if("WORD"===t){var S=!0,C=!1,w=void 0;try{for(var I,T=n[Symbol.iterator]();!(S=(I=T.next()).done);S=!0){var x=I.value,A=x.w,D=x.found,O=x.all,R=document.createElement("tr"),G=document.createElement("td");G.appendChild(o(A)),R.appendChild(G),(G=document.createElement("td")).textContent="".concat(D,"/").concat(O),R.appendChild(G),i.appendChild(R)}}catch(it){C=!0,w=it}finally{try{S||null==T.return||T.return()}finally{if(C)throw w}}}else{var M=!0,k=!1,L=void 0;try{for(var U,P=r[Symbol.iterator]();!(M=(U=P.next()).done);M=!0){var W=U.value,N=document.createElement("tr"),_=document.createElement("td"),q=[],H=!1,V=!0,Y=!1,j=void 0;try{for(var B,J=W[Symbol.iterator]();!(V=(B=J.next()).done);V=!0){var Z=B.value,z=Z.raw,F=Z.found,K=Z.all,Q=z.replace(/[^A-Z]/,"");if(z.startsWith("(")){var X=document.createElement("b");X.textContent="(",q.push(X),H=!0}q.push(o(Q));var $=document.createElement("span");if($.textContent=" ".concat(F,"/").concat(K),z.endsWith(")")){q.push($);var tt=document.createElement("b");tt.textContent=")",q.push(tt),H=!1}else H&&($.textContent+=" "),q.push($);if(!H){var et=!0,nt=!1,at=void 0;try{for(var rt,lt=q[Symbol.iterator]();!(et=(rt=lt.next()).done);et=!0){var ot=rt.value;_.appendChild(ot)}}catch(it){nt=!0,at=it}finally{try{et||null==lt.return||lt.return()}finally{if(nt)throw at}}_.appendChild(document.createElement("br")),q=[]}}}catch(it){Y=!0,j=it}finally{try{V||null==J.return||J.return()}finally{if(Y)throw j}}N.appendChild(_),i.appendChild(N)}}catch(it){k=!0,L=it}finally{try{M||null==P.return||P.return()}finally{if(k)throw L}}}this.table&&this.stats.removeChild(this.table),this.stats.appendChild(i),this.table=i}}]),e}();exports.StatsView=i;
},{"./global":"VlPw","./ui":"ePHQ","../game":"dgAm"}],"l4Rm":[function(require,module,exports) {
"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function n(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(a,i){function s(t){try{u(r.next(t))}catch(e){i(e)}}function o(t){try{u(r.throw(t))}catch(e){i(e)}}function u(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,o)}u((r=r.apply(t,e||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0});var a=require("./dict"),i=require("./random"),s=3,o=864e5;function u(t,e){return t<e?-1:t>e?1:0}var h=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u;if(t(this,e),this.data=n,this.length=this.data.length,this.compare=r,this.length>0)for(var a=(this.length>>1)-1;a>=0;a--)this.down(a)}return n(e,[{key:"push",value:function(t){this.data.push(t),this.length++,this.up(this.length-1)}},{key:"pop",value:function(){if(0!==this.length){var t=this.data[0],e=this.data.pop();return this.length--,this.length>0&&(this.data[0]=e,this.down(0)),t}}},{key:"peek",value:function(){return this.data[0]}},{key:"up",value:function(t){for(var e=this.data[t];t>0;){var n=t-1>>1,r=this.data[n];if(this.compare(e,r)>=0)break;this.data[t]=r,t=n}this.data[t]=e}},{key:"down",value:function(t){for(var e=this.length>>1,n=this.data[t];t<e;){var r=1+(t<<1),a=this.data[r],i=r+1;if(i<this.length&&this.compare(this.data[i],a)<0&&(r=i,a=this.data[i]),this.compare(a,n)>=0)break;this.data[t]=a,t=r}this.data[t]=n}}]),e}(),c=function(){function e(n,r,a,i,s,o){t(this,e),this.unlearned=n,this.learned=r,this.d=a,this.type=i,this.store=s,this.stats=o}return n(e,[{key:"size",value:function(){return this.learned.length}},{key:"next",value:function(){var t=this,e=+new Date,n=function(){if(t.unlearned.length)return{k:t.unlearned.pop(),e:2.5,c:0,n:0,d:0,p:0}},r=this.learned.pop();if(r){if(r.d>e){var s=n();s&&(this.learned.push(r),r=s)}}else r=n();if(!r)throw new RangeError;for(var o=r.k,u=this.stats.anagrams(o,this.type).words,h=function(){return t.learned.push(r)},c=new i.Random(r.n),l=0;l<10&&(o=c.shuffle(o.split("")).join(""),u.includes(o));l++);return{label:o,group:a.order(u),update:function(n){return r=d(r,n,e),h(),t.store.set("data",t.learned.data)},restore:h}}}],[{key:"create",value:function(t,n,a,i,s){return r(this,void 0,void 0,regeneratorRuntime.mark(function r(){var o,u,c,d,l,f,p,v,g,w,k,m,y,b;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return o=n.toLowerCase()[0],u=new h([],function(t,e){return t.d-e.d}),c=new Set,r.next=5,i.get("data");case 5:if(!(d=r.sent)){r.next=28;break}for(u.data=d,u.length=d.length,l=!0,f=!1,p=void 0,r.prev=12,v=d[Symbol.iterator]();!(l=(g=v.next()).done);l=!0)w=g.value,c.add(w.k);r.next=20;break;case 16:r.prev=16,r.t0=r.catch(12),f=!0,p=r.t0;case 20:r.prev=20,r.prev=21,l||null==v.return||v.return();case 23:if(r.prev=23,!f){r.next=26;break}throw p;case 26:return r.finish(23);case 27:return r.finish(20);case 28:for(m in k=[],t.mixed)c.has(m)||(y=t.anagrams(m,a,s)[o]||0)&&k.push({k:m,w:y});return k.sort(function(t,e){return t.w-e.w}),b=k.map(function(t){return t.k}),r.abrupt("return",new e(b,u,o,a,i,t));case 33:case"end":return r.stop()}},r,null,[[12,16,20,28],[21,,23,27]])}))}}]),e}();function d(t,e,n){var r=.28*e-.8-.02*e*e;r<0&&(r*=Math.min(2.5*Math.pow(2,t.n+1),100)/100);if(e>=3){var a=t.d?Math.min(2,(t.d-t.p)/o/(t.c?s:1)):1;t.c++,t.e=Math.max(1.3,t.e+r*a),t.d=n+o*s*Math.pow(t.e,t.c-1)*a}else t.c=0,t.e=Math.max(1.3,t.e+r),t.d=n+o;return t.n++,t.p=n,t}exports.TrainingPool=c;
},{"./dict":"qafh","./random":"Mkcc"}],"vUQU":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,a){function o(e){try{c(r.next(e))}catch(t){a(t)}}function s(e){try{c(r.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,s)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0});var i=require("./global"),a=require("./ui"),o=require("../training"),s=require("../store"),c=function(){function t(){e(this,t),this.content=null,this.restore=null}return n(t,[{key:"toJSON",value:function(){}},{key:"attach",value:function(){return r(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([i.global.LOADED.TRAINING,i.global.LOADED.DICT,i.global.LOADED.STATS()]);case 2:if(this.pool&&this.pool.type===i.global.SETTINGS.dict){e.next=7;break}return t=new s.Store("training",i.global.SETTINGS.dict),e.next=6,o.TrainingPool.create(i.global.STATS,i.global.SETTINGS.dice,i.global.SETTINGS.dict,t,i.global.SETTINGS.min);case 6:this.pool=e.sent;case 7:return this.train=a.UI.createElementWithId("div","train"),this.next(),e.abrupt("return",this.train);case 10:case"end":return e.stop()}},e,this)}))}},{key:"detach",value:function(){return r(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.restore){e.next=3;break}return e.next=3,this.restore();case 3:return this.content=null,e.abrupt("return",this.train);case 5:case"end":return e.stop()}},e,this)}))}},{key:"next",value:function(){var e=a.UI.createElementWithId("div","content"),t=a.UI.createElementWithId("div","progress");t.textContent=String(this.pool.size());var n=this.pool.next(),r=n.label,i=n.group,o=n.update,s=n.restore;this.restore=s;var c=document.createElement("div");c.classList.add("word"),c.textContent=r;var l=a.UI.createElementWithId("div","sizeHint");l.classList.add("hidden"),l.textContent=String(i.length);var u=this.createRatingToggles(o),d=document.createElement("table");d.classList.add("results","hidden"),a.UI.addAnagramRows(d,i),t.addEventListener("mouseup",function(){return a.UI.toggleView("Review",t.textContent)}),t.addEventListener("long-press",function(){u.classList.contains("hidden")&&l.classList.remove("hidden")}),t.addEventListener("long-press-up",function(){return l.classList.add("hidden")});var h=a.UI.createBackButton(function(){return a.UI.toggleView("Menu")});e.appendChild(a.UI.createTopbar(h,null,t));var p=document.createElement("div");p.classList.add("wrapper"),p.appendChild(c),p.appendChild(d),e.appendChild(p),e.appendChild(l),e.appendChild(u);e.addEventListener("click",function n(r){[h,t].includes(r.target)||(e.removeEventListener("click",n),c.classList.add("hidden"),d.classList.remove("hidden"),u.classList.remove("hidden"))}),this.content&&this.train.removeChild(this.content),this.train.appendChild(e),this.content=e}},{key:"createRatingToggles",value:function(e){var t=this,n=document.createElement("div");n.setAttribute("id","rating"),n.classList.add("toggle-group"),n.classList.add("horizontal"),n.classList.add("hidden");for(var i=function(i){var a=document.createElement("button");a.setAttribute("id","rating".concat(i)),a.setAttribute("type","button"),a.classList.add("toggle"),a.textContent=String(i),n.appendChild(a),a.addEventListener("click",function(){return r(t,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(Number(a.textContent));case 2:this.restore=null,this.next();case 4:case"end":return t.stop()}},t,this)}))})},a=0;a<6;a++)i(a);return n}}]),t}();exports.TrainingView=c;
},{"./global":"VlPw","./ui":"ePHQ","../training":"l4Rm","../store":"z7jk"}],"ePHQ":[function(require,module,exports) {
"use strict";function e(e,i){return n(e)||r(e,i)||t()}function t(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function r(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(u){i=!0,a=u}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}}function n(e){if(Array.isArray(e))return e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),e}var s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,s)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0});var u=require("./global"),c=require("../game"),d=require("../random"),l=require("../dict"),h=require("./board"),v=require("./define"),f=require("./menu"),p=require("./review"),m=require("./settings"),g=require("./stats"),w=require("./training"),b=function(){function e(){i(this,e)}return o(e,[{key:"attach",value:function(){this.loader=exports.UI.createElementWithId("div","loader");var e=exports.UI.createElementWithId("div","spinner");return this.loader.appendChild(e),this.loader}},{key:"detach",value:function(){return this.loader}}]),e}();exports.UI=new(function(){function t(){i(this,t)}return o(t,[{key:"create",value:function(){return s(this,void 0,void 0,regeneratorRuntime.mark(function t(){var r,n,i,a,o,s,c,d,l=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(setTimeout(function(){return window.scrollTo(0,1)},0),void 0!==u.global.SETTINGS.theme?this.setTheme(u.global.SETTINGS.theme):this.setTheme(window.matchMedia("(prefers-color-scheme: dark)").matches?"Dark":"Light"),this.root=document.getElementById("display"),r=JSON.parse(localStorage.getItem("state")),this.current=r?r.current:"Menu",this.previous=r?r.previous:"Menu",this.loader=new b,n={Menu:f.MenuView,Board:h.BoardView,Training:w.TrainingView,Review:p.ReviewView,Define:v.DefineView,Stats:g.StatsView,Settings:m.SettingsView},i=r?r.views:{},this.Views={},a=0,o=Object.entries(n);a<o.length;a++)s=e(o[a],2),c=s[0],d=s[1],this.Views[c]=new d(i[c]);return t.next=13,this.setup();case 13:return this.BACK=document.createElement("img"),this.BACK.src=document.getElementById("svg").src,this.BACK.height=20,document.addEventListener("keydown",function(e){return l.onKeyDown(e)}),document.addEventListener("swiped-left",function(){return l.toggleView("Define")}),document.addEventListener("swiped-right",function(){return l.toggleView("Define")}),window.addEventListener("hashchange",function(){return l.onHashChange()}),window.addEventListener("beforeunload",function(){return l.persist()}),t.next=23,this.attachView(this.current);case 23:case"end":return t.stop()}},t,this)}))}},{key:"persist",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=JSON.parse(localStorage.getItem("state"))||{};t.current=this.current,t.previous=this.previous,t.views=t.views||{},t.views[this.current]=this.Views[this.current],e&&(t.views[this.previous]=this.Views[this.previous]),localStorage.setItem("state",JSON.stringify(t))}},{key:"attachView",value:function(e,t){return s(this,void 0,void 0,regeneratorRuntime.mark(function r(){var n,i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return this.root.appendChild(this.loader.attach()),n=this.Views[e],r.next=4,n.attach(t);case 4:i=r.sent,this.root.removeChild(this.loader.detach()),this.root.appendChild(i),n.afterAttach&&n.afterAttach();case 8:case"end":return r.stop()}},r,this)}))}},{key:"detachView",value:function(e,t){return s(this,void 0,void 0,regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=this.root,r.next=3,this.Views[e].detach(t);case 3:r.t1=r.sent,r.t0.removeChild.call(r.t0,r.t1);case 5:case"end":return r.stop()}},r,this)}))}},{key:"toggleView",value:function(e,t){return s(this,void 0,void 0,regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(this.current!==e){r.next=9;break}return r.next=3,this.detachView(e,this.previous);case 3:return this.current=this.previous,this.previous=e,r.next=7,this.attachView(this.current,t);case 7:r.next=15;break;case 9:return r.next=11,this.detachView(this.current,e);case 11:return this.previous=this.current,this.current=e,r.next=15,this.attachView(e,t);case 15:this.persist(!0);case 16:case"end":return r.stop()}},r,this)}))}},{key:"setup",value:function(){return s(this,void 0,void 0,regeneratorRuntime.mark(function t(){var r,n,i,a,o,l,h,v,f,p,m,g=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=function(){return s(g,void 0,void 0,regeneratorRuntime.mark(function t(){var r,n,i,a,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.global.LOADED.HISTORY;case 2:u.global.HISTORY.length&&(r=u.global.HISTORY[u.global.HISTORY.length-1].seed,n=c.Game.decodeID(r),i=e(n,1),a=i[0],(o=new d.Random).seed=u.global.SEED,o.next(),console.log("setup from history"),this.updateSettings(a,o.seed));case 3:case"end":return t.stop()}},t,this)}))},n=document.location.hash&&document.location.hash.slice(1)){t.next=13;break}if(!(i=this.Views.Board.game)){t.next=10;break}a=c.Game.decodeID(i.seed),o=e(a,2),l=o[0],h=o[1],console.log("existing"),this.updateSettings(l,h),t.next=11;break;case 10:return t.abrupt("return",r());case 11:t.next=18;break;case 13:if(v=c.Game.decodeID(n),f=e(v,2),p=f[0],m=f[1],this.valid(p,m)){t.next=16;break}return t.abrupt("return",r());case 16:console.log("url"),this.updateSettings(p,m);case 18:case"end":return t.stop()}},t,this)}))}},{key:"onKeyDown",value:function(e){return s(this,void 0,void 0,regeneratorRuntime.mark(function t(){var r,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.keyCode,n=this.Views[this.current],191!==r||!e.shiftKey){t.next=8;break}return e.preventDefault(),t.next=6,this.toggleView("Define");case 6:t.next=11;break;case 8:if(!("onKeyDown"in n)){t.next=11;break}return t.next=11,n.onKeyDown(e);case 11:case"end":return t.stop()}},t,this)}))}},{key:"onHashChange",value:function(){return s(this,void 0,void 0,regeneratorRuntime.mark(function t(){var r,n,i,a,o,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(document.location.hash){t.next=2;break}return t.abrupt("return");case 2:if(r=c.Game.decodeID(document.location.hash.slice(1)),n=e(r,2),i=n[0],a=n[1],this.valid(i,a)){t.next=5;break}return t.abrupt("return");case 5:if((o=a!==u.global.SEED)||(s=Object.assign({},u.global.SETTINGS),o=s.dice!==i.dice||s.min!==i.min||s.dict!==i.dict),this.updateSettings(i,a,!1),"Settings"!==this.current){t.next=12;break}this.Views[this.current].update(),t.next=14;break;case 12:if(!o||"Play"!==this.current){t.next=14;break}return t.abrupt("return",this.Views[this.current].refresh({allowDupes:!0}));case 14:case"end":return t.stop()}},t,this)}))}},{key:"valid",value:function(e,t){return!(isNaN(t)||e.dice&&e.dict&&e.min)}},{key:"updateSettings",value:function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];console.log("UPDATE",{settings:e,seed:t}),Object.assign(u.global.SETTINGS,e),localStorage.setItem("settings",JSON.stringify(u.global.SETTINGS)),t&&(u.global.SEED=t);var n=c.Game.encodeID(u.global.SETTINGS,u.global.SEED);if(window.history.replaceState(null,"","#".concat(n)),r&&"Settings"===this.current){var i=this.Views[this.current];i.seed.textContent=n,i.seed.classList.remove("error")}}},{key:"createElementWithId",value:function(e,t){var r=document.createElement(e);return r.setAttribute("id",t),r}},{key:"createTopbar",value:function(e,t,r){var n=this.createElementWithId("header","topbar");return n.appendChild(e||document.createElement("div")),n.appendChild(t||document.createElement("div")),n.appendChild(r||document.createElement("div")),n}},{key:"createBackButton",value:function(e){var t=this.createElementWithId("div","back");return t.appendChild(this.BACK),t.addEventListener("mouseup",e),t}},{key:"focusContentEditable",value:function(e){e.focus(),document.execCommand("selectAll",!1);var t=document.getSelection();t&&!t.isCollapsed&&t.collapseToEnd()}},{key:"permaFocus",value:function(e){var t=this;e.addEventListener("blur",function(){return setTimeout(function(){return t.focusContentEditable(e)},20)}),this.focusContentEditable(e)}},{key:"setTheme",value:function(e){document.documentElement.setAttribute("data-theme",e.toLowerCase())}},{key:"addAnagramRows",value:function(e,t){var r=!0,n=!1,i=void 0;try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value,c=s.replace(/[^A-Z]/,""),d=document.createElement("tr");u.global.STATS.stats(c,u.global.SETTINGS.dice,u.global.SETTINGS.dict).grade<u.global.SETTINGS.grade&&d.classList.add("hard");var h=document.createElement("td"),v=document.createElement("b"),f=s.startsWith("(")?"".concat(s,""):s.endsWith(")")?"".concat(s):"".concat(s,"");v.textContent="".concat(f,""),h.appendChild(v),d.appendChild(h),(h=document.createElement("td")).textContent=l.define(c,u.global.DICT),d.appendChild(h),e.appendChild(d)}}catch(p){n=!0,i=p}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}}},{key:"createRadios",value:function(e,t,r){var n=this.createElementWithId("span",e);n.classList.add("toggle-group"),n.classList.add("horizontal"),n.setAttribute("role","radiogroup");var i=!0,a=!1,o=void 0;try{for(var s,u=t[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value,d=!1;Array.isArray(c)&&(d=!0,c=c[0]);var l=this.createElementWithId("input","".concat(e).concat(c));l.classList.add("hide"),l.setAttribute("type","radio"),l.setAttribute("name",e),l.setAttribute("value",c),d&&l.setAttribute("checked","checked");var h=document.createElement("label");h.classList.add("toggle"),h.setAttribute("for","".concat(e).concat(c)),h.textContent=c.toUpperCase(),l.addEventListener("click",r.bind(l)),n.appendChild(l),n.appendChild(h)}}catch(v){a=!0,o=v}finally{try{i||null==u.return||u.return()}finally{if(a)throw o}}return n}}]),t}());
},{"./global":"VlPw","../game":"dgAm","../random":"Mkcc","../dict":"qafh","./board":"mx3t","./define":"GDz3","./menu":"qI3H","./review":"AOXD","./settings":"UoCm","./stats":"PRMN","./training":"vUQU"}],"B6dB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),require("regenerator-runtime/runtime");var e=require("./ui/ui");e.UI.create();
},{"regenerator-runtime/runtime":"KA2S","./ui/ui":"ePHQ"}]},{},["B6dB"], null)
//# sourceMappingURL=src.09d314a5.js.map